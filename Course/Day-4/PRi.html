<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let arrItemNames = ['1. Jeruk', '2. Mangga', '3. Apel']
        let keluar = '4. Checkout'
        let arrPrice = [5000, 5000, 5000]
        let arrStock = [10, 20, 10]
        let input 
        let beli = [0, 0, 0]
        let menu =''

        let jumlahbeli
        var totalharga
        var harga = 0
        let isi 


        alert('SELAMAT DATANG DI BAHAR BAHRI STORE')
        do {
            menu =''
        for (let i = 0; i < arrItemNames.length; i++) {
            menu += `${arrItemNames[i]} Harga Rp. ${arrPrice[i]}/pcs ${arrStock[i]} item stock tersedia \n`
        }
            input = parseInt(prompt(`${menu}${keluar}`))
            if (input == 1) {
                do{
                isi = prompt('Berapa Buah Jeruk yang ingin anda beli ?') * 1
                if (isi>arrStock[0]) {
                    alert('Jumlah permintaan anda melebihi stock')
                    condition = true
                }
                else{
                beli[0] += isi
                arrStock[0] -= isi
                condition = false
                condition1 = true
                }
            }
                while (condition) {
                    
                }
            }
            else if (input == 2) {
                do{
                isi = prompt('Berapa Buah Mangga yang ingin anda beli ?') * 1
                if (isi>arrStock[1]) {
                    alert('Jumlah permintaan anda melebihi stock')
                    condition = true
                }
                else{
                beli[1] += isi
                arrStock[1] -= isi
                condition = false
                condition1 = true
                }
            }
                while (condition) {
                    
                }
            }
            else if (input == 3) {
                do{
                isi = prompt('Berapa Buah Apel yang ingin anda beli ?') * 1
                if (isi>arrStock[2]) {
                    alert('Jumlah permintaan anda melebihi stock')
                    condition = true
                }
                else{
                    beli[2] += isi
                    arrStock[2] -= isi
                    condition = false
                    condition1 = true
                }
            }
            while (condition) {
            }
            }
            else if (input == 4) {
                do{
                for (let j = 0; j < arrItemNames.length; j++) {
                totalharga = beli[j] *arrPrice[j]
                harga += totalharga
                    
                }
                alert('Jumlah yang harus dibayar '+harga)
                
                inputpayment = prompt('Masukkan uang anda')
                perhitungan = inputpayment - harga
                if (harga>inputpayment) {
                    alert('Maaf uang Anda kurang')
                    condition = true
                }
                else if (harga<inputpayment) {
                    alert('Kembalian anda ' +perhitungan)
                    beli.fill(0)
                    harga = 0
                    condition = false
                }else if(harga == inputpayment){
                    alert('Terima kasih uang anda pas')
                    beli.fill(0)
                    harga = 0
                    condition = false
                }
            }
            while (condition) {
            }
            var condition1 = confirm('Yakin mau beli lagi ?')
            }
        }
        while (condition1) {
            
        }


    </script>
</body>

</html>